# Система определения нарушения территории


## Установка

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r req.txt
```

## Использование

Для корректной работы необходимо сначала разметить запретную территорию

```bash
python3 zona.py
```
Запустить скрипт, откроется окно с видео. Необходимо поочередно поставить точки нашей будущей границы - и по мере их проставления будут отрисосвываться линии соединяющие точки. Для выхода из окна необходимо нажать клавишу `q`. Координаты точек сохранятся в файл `restricted_zones.json`.
Если попытка оказалась неудачной - можно проставить точки заново. Предыдущие значения перепишутся.


Запуск основного скрипта

```bash
python3 main.py
```

При запуске модуля `main.py` откроется окно с видео. На них будут отрисованы границы запретной зоны которые мы определили с помощью предыдущего скрипта. Если в кадре появится человек - то он будет обозначен в зеленой рамке. При пересечении человеком границы запретной зоны (центр его квадрата пересек запретную зону) - то его обозначение границы как человек будет подкрашено красным и сверху появится запись "ALARM!". Запись исчезнет по истечению 3 секунд после того как человек ушел с запретной зоны. Для выхода из окна наать клавишу `q`.


## Структура

- `main.py` - основной скрипт
- `zona.py` - скрипт разметки запрещенной зоны
- `req.txt` - зависимости
- `restricted_zones.json` - координаты запрещенной зоны
- `test.mp4` - тестовое видео

